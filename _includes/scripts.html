<script src="{{ '/assets/js/main.min.js' | relative_url }}"></script>
{% if page.layout == 'home-modern' %}
  <script type="module" src="{{ '/assets/js/bg-experiment.module.js' | relative_url }}"></script>
  <!-- <script type="module" src="{{ '/assets/js/hero-obj.module.js' | relative_url }}"></script> -->
{% endif %}

{% include analytics.html %}
{% include /comments-providers/scripts.html %}

<script>
  // Simple light/dark theme toggle
  (function(){
    function applyLabel(btn, theme){
      if(!btn) return;
      btn.textContent = theme === 'mhull' ? '☾' : '☀︎';
    }
    var btn = document.getElementById('theme-toggle');
    var saved = (function(){ try { return localStorage.getItem('theme'); } catch(e){ return null; } })();
    var current = document.documentElement.getAttribute('data-theme') || saved || 'mhull';
    applyLabel(btn, current);
    if(btn){
      btn.addEventListener('click', function(){
        var cur = document.documentElement.getAttribute('data-theme') || 'mhull';
        var next = cur === 'mhull' ? 'mhull-light' : 'mhull';
        document.documentElement.setAttribute('data-theme', next);
        try { localStorage.setItem('theme', next); } catch(e) {}
        applyLabel(btn, next);
      });
    }
  })();
  </script>
